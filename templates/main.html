<!DOCTYPE html>
<html>
<head>
    <title>Future Sales Prediction</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2, h3 { color: #333; }
        .container { max-width: 900px; margin: auto; }
        .section { margin-bottom: 40px; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { padding: 10px; border: 1px solid #999; text-align: center; }
        img { border: 1px solid #ccc; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">

    <h1>ðŸ“ˆ Future Sales Forecasting Web App</h1>

    <!-- UPLOAD SECTION -->
    <div class="section">
        <h2>Upload Dataset</h2>

        {% if not summary %}
        <form action="/predict" method="post" enctype="multipart/form-data">

            <p><b>Select CSV:</b> <input type="file" name="file" required></p>

            <p><b>Date Column:</b> <input type="text" name="date_col" placeholder="date" required></p>

            <p><b>Product Column:</b> <input type="text" name="product_col" placeholder="product" required></p>

            <p><b>Quantity Column:</b> <input type="text" name="qty_col" placeholder="sales_qty" required></p>

            <p><b>Forecast Days:</b> <input type="number" name="days" value="30"></p>

            <button type="submit">Predict Future Sales</button>
        </form>
        {% endif %}
    </div>

    {% if summary %}

    <!-- SUMMARY SECTION -->
    <div class="section">
        <h2>ðŸ”¥ Top Future Selling Products</h2>

        <table>
            <tr><th>Product</th><th>Predicted Sales</th></tr>
            {% for p,val in summary.items() %}
            <tr><td>{{ p }}</td><td>{{ val }}</td></tr>
            {% endfor %}
        </table>
    </div>

    <!-- ACCURACY SECTION -->
    <div class="section">
        <h2>ðŸ“Š Model Accuracy</h2>
        <p><b>MAE:</b> {{ mae }}</p>
        <p><b>MSE:</b> {{ mse }}</p>
    </div>

    <!-- CHARTS SECTION -->
    <div class="section">
        <h2>ðŸ“ˆ Charts</h2>

        <h3>Line Chart</h3>
        <img src="/chart/line" width="700">

        <h3>Bar Chart</h3>
        <img src="/chart/bar" width="700">

        <h3>Area Chart</h3>
        <img src="/chart/area" width="700">

        <h3>Pie Chart</h3>
        <img src="/chart/pie" width="500">
    </div>

    {% endif %}

</div>
</body>
</html>
